@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Design tokens / globals
   ========================= */
:root{
  --brand-start: #4f46e5; /* indigo-600 */
  --brand-mid: #7c3aed;   /* violet-500 */
  --brand-end: #06b6d4;   /* teal-400 */
  --glass: rgba(255,255,255,0.6);
  --zen-navbar-height: 35px; /* approximate navbar height (mobile) */
  --zen-navbar-gap: 10px;
  --zen-blue: #2563EB;
  --cta-start: #6366F1;
  --cta-end: #2563EB;
}
body {
  padding-top: calc(var(--zen-navbar-height) + var(--zen-navbar-gap));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* =========================
   Utilities
   - small helpers kept minimal & tailwind-friendly
   ========================= */
.focus-ring:focus-visible,
input:focus-visible,
textarea:focus-visible,
button:focus-visible,
.mobile-search-btn:focus-visible,
.mobile-search-panel:focus-visible {
  outline: none;
  box-shadow: 0 0 0 6px rgba(37,99,235,0.08);
  border-radius: 10px;
}

/* small interactive press */
.btn-press {
  transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
}
.btn-press:active { transform: translateY(1px) scale(.998); }

/* small card hover used widely */
.card-hover {
  transition: transform .18s cubic-bezier(.2,.9,.3,1), box-shadow .18s ease;
  will-change: transform, box-shadow;
}
.card-hover:hover { transform: translateY(-6px); box-shadow: 0 18px 60px rgba(2,6,23,0.07); }

/* Respect reduced motion across utilities */
@media (prefers-reduced-motion: reduce) {
  .btn-press,
  .card-hover,
  .moving-blob,
  .moving-gradient-shift,
  .photo-img,
  .animate-fade-up,
  .animate-float {
    transition: none !important;
    animation: none !important;
    transform: none !important;
  }
}

/* =========================
   Components
   - grouped, merged, deduplicated
   ========================= */
@layer components {
  /* ---------- Navbar / logo / nav helpers ---------- */
  .navbar-glass {
    pointer-events: auto;
    display: block;
    background: linear-gradient(180deg, rgba(255,255,255,0.72), rgba(255,255,255,0.60));
    border: 1px solid rgba(15,23,42,0.04);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    -webkit-background-clip: padding-box;
            background-clip: padding-box;
    border-radius: 14px;
    box-shadow: 0 8px 30px rgba(2,6,23,0.06);
    transition: background-color .18s ease, box-shadow .22s ease, transform .18s ease;
  }
  .navbar-glass:hover {
    background: linear-gradient(180deg, rgba(255,255,255,0.86), rgba(255,255,255,0.7));
    box-shadow: 0 18px 48px rgba(2,6,23,0.08);
  }

  .logo-anim {
    background: linear-gradient(135deg, rgba(99,102,241,1), rgba(37,99,235,1));
    transform-origin: center;
    transition: transform .28s cubic-bezier(.2,.9,.3,1), box-shadow .22s ease;
  }
  .logo-anim:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 10px 30px rgba(37,99,235,0.12); }

  .nav-underline { position: relative; padding-bottom: 0.125rem; }
  .nav-underline::after {
    content: ""; position: absolute; left:0; right:0; bottom:-2px; height:2px; width:0%;
    background: linear-gradient(90deg, rgba(37,99,235,0.95), rgba(124,58,237,0.9));
    border-radius: 9999px; transition: width .26s cubic-bezier(.2,.9,.3,1); opacity:0.95;
  }
  .nav-underline:hover::after, .nav-underline.active::after { width:100%; }

  .nav-float { transition: transform .18s ease, color .18s ease; }
  .nav-float:hover { transform: translateY(-2px); }

  .hamburger-rotate.open {
    transform-origin: center;
    transition: transform .28s cubic-bezier(.2,.9,.3,1);
    transform: rotate(90deg) scale(1.02);
  }

  /* ---------- Shared UI atoms ---------- */
  .pill {
    @apply inline-flex items-center justify-center text-xs font-medium rounded-full px-2 py-0.5 bg-indigo-50 text-indigo-700;
    box-shadow: 0 6px 18px rgba(79,70,229,0.05);
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .pill:hover { transform: translateY(-2px); box-shadow: 0 14px 40px rgba(79,70,229,0.08); }

  .focus-ring:focus-visible { outline: none; box-shadow: 0 0 0 6px rgba(37,99,235,0.08); border-radius: 10px; }

  /* ---------- Buttons / small controls ---------- */
  .mobile-search-btn {
    transition: transform .18s cubic-bezier(.2,.9,.3,1), box-shadow .18s ease;
    will-change: transform;
    background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
    border: 1px solid rgba(15,23,42,0.04);
  }
  .mobile-search-btn:active { transform: translateY(1px) scale(.998); }

  /* ---------- Gradient border helper (search input wrapper) ---------- */
  .gradient-border { position: relative; display: inline-block; }
  .gradient-border::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 14px;
    padding: 2px;
    background: linear-gradient(90deg, #2563eb, #7c3aed, #ec4899);
    -mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
            mask-composite: exclude;
    opacity: 0.12;
    filter: blur(6px);
    z-index: 0;
    transition: opacity .28s ease, transform .28s cubic-bezier(.2,.9,.3,1);
    transform-origin: center;
    /* IMPORTANT: don't block input/button clicks */
    pointer-events: none;
  }
  .gradient-border--active::before { opacity: 0.28; transform: scale(1.02); }

  /* ---------- Search glow ---------- */
  .search-glow {
    height: 52px;
    width: 420px;
    background: radial-gradient(closest-side, rgba(37,99,235,0.14), rgba(124,58,237,0.08), transparent 60%);
    border-radius: 9999px;
    filter: blur(26px);
    transition: transform .4s cubic-bezier(.2,.9,.3,1), opacity .28s ease;
    will-change: transform, opacity;
  }
  @media (max-width: 640px) { .search-glow { width: 260px; height: 42px; filter: blur(20px); } }

  /* ---------- Mobile search panel helpers ---------- */
  /* Ensure these classes are present and authoritative so JS + markup can rely on them */
  .mobile-search-backdrop { z-index: 9988; position: fixed; inset:0; }
  .mobile-search-panel { z-index: 9999; pointer-events: auto; position: relative; }
  .mobile-search-panel input,
  .mobile-search-panel button { pointer-events: auto; }

  /* ---------- CTA / footer / layout helpers ---------- */
  .footer { @apply bg-gradient-to-t from-white/80 to-white/60 backdrop-blur-sm border-t border-gray-100 text-gray-700; }
  .footer > .max-w-7xl { padding-top: 2.5rem; padding-bottom: 2.5rem; }
  .footer-grid { display: grid; grid-template-columns: repeat(1, minmax(0, 1fr)); gap: 1.25rem; }
  @media (min-width: 640px) { .footer-grid { grid-template-columns: repeat(2, minmax(0,1fr)); gap:1.5rem; } }
  @media (min-width: 1024px) { .footer-grid { grid-template-columns: repeat(4, minmax(0,1fr)); gap:2rem; } }
  .footer-col { @apply relative; }
  .footer-link { @apply text-gray-600 hover:text-indigo-600 transition-colors duration-200 inline-block; position:relative; padding-bottom:0.125rem; }
  .footer-link::after {
    content: ""; position:absolute; left:0; bottom:0; height:2px; width:0; background: linear-gradient(90deg, var(--brand-mid), var(--brand-end)); border-radius:9999px; transition: width .22s cubic-bezier(.2,.9,.3,1); opacity:0.95;
  }
  .footer-link:hover::after, .footer-link:focus-visible::after { width: 100%; }

  .footer-cta { @apply bg-gradient-to-br from-white to-white/95 rounded-lg p-4 border border-gray-100 shadow-sm; background-image: linear-gradient(180deg, rgba(255,255,255,0.86), rgba(255,255,255,0.96)); transition: transform .22s cubic-bezier(.2,.9,.3,1), box-shadow .22s cubic-bezier(.2,.9,.3,1); }

  .social-icon { @apply inline-flex items-center justify-center h-8 w-8 rounded-md bg-transparent text-gray-600 transition-transform duration-200; border-radius: .5rem; }
  .social-icon:hover { @apply bg-indigo-50 text-indigo-600; transform: translateY(-3px) scale(1.02); box-shadow: 0 10px 30px rgba(79,70,229,0.06); }
  .social-icon:focus-visible { outline:none; box-shadow: 0 0 0 4px rgba(79,70,229,0.12); border-radius:8px; }

  /* ---------- Logo card / marquee helpers ---------- */
  .logo-card {
    display:inline-flex; align-items:center; justify-content:center; height:60px; width:fit-content; padding:14px;
    background:#fff; border-radius:.75rem; border:1px solid rgba(15,23,42,0.06); box-shadow:0 6px 18px rgba(2,6,23,0.06);
    transition: transform .18s cubic-bezier(.2,.9,.3,1), box-shadow .18s ease; will-change: transform, box-shadow; min-width:64px;
  }
  .logo-card:hover { transform: scale(1.04); box-shadow: 0 18px 48px rgba(2,6,23,0.12); }
  .logo-card > img, .logo-card > .company-logo { display:block; max-height:32px !important; height:auto !important; width:auto !important; object-fit:contain !important; margin:0; padding:0; }

  .marquee { overflow:hidden; position:relative; }
  .marquee-track { display:flex; width:max-content; animation: scroll var(--marquee-duration,20s) linear infinite; will-change: transform; }
  .marquee-track:hover { animation-play-state: paused; }
  .marquee-group { display:flex; align-items:center; gap:20px; }
  .marquee::before, .marquee::after { content:""; position:absolute; top:0; width:100px; height:100%; pointer-events:none; z-index:10; }
  .marquee::before { left:0; background: linear-gradient(to right, white 40%, transparent); }
  .marquee::after { right:0; background: linear-gradient(to left, white 40%, transparent); }

  .company-logo {
    display:inline-block;
    height:36px;
    width:auto;
    object-fit:contain;
    padding:6px;
    border-radius:8px;
    background: rgba(255,255,255,0.6);
    transition: transform .28s cubic-bezier(.2,.9,.3,1), filter .28s ease, box-shadow .28s ease, opacity .28s ease;
    will-change: transform, filter, opacity;
    transform-origin: center;
    opacity: 0.8;
  }
  .company-logo:hover { transform: translateY(-6px) scale(1.04); filter: saturate(1.05); box-shadow: 0 18px 40px rgba(2,6,23,0.08); opacity:1; }

  /* ---------- Cards / photos / hero helpers ---------- */
  .photo-card { border-radius:16px; overflow:hidden; background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,250,0.98)); border:1px solid rgba(15,23,42,0.04); box-shadow:0 30px 80px rgba(2,6,23,0.10); transition: transform .28s cubic-bezier(.2,.9,.3,1), box-shadow .28s ease; }
  .photo-card:hover { transform: translateY(-6px); box-shadow: 0 42px 110px rgba(2,6,23,0.14); }

  .photo-img { display:block; width:100%; height:320px; object-fit:cover; transition: transform .9s cubic-bezier(.2,.9,.3,1), filter .5s ease; will-change: transform, filter; }
  .photo-img:hover { transform: scale(1.02); }

  .feature-animate { animation: fadeInUp .56s cubic-bezier(.2,.9,.3,1) both; will-change: transform, opacity; }
  .animate-fade-up { animation: fadeUp .5s cubic-bezier(.2,.9,.3,1) both; }
  .animate-float { animation: floatY 6s ease-in-out infinite; }

  /* ---------- Forms / register / login ---------- */
  .register-gradient-border { position: relative; background: linear-gradient(135deg, rgba(79,70,229,0.5), rgba(124,58,237,0.4), rgba(6,182,212,0.3)); border-radius:1rem; padding:2px; animation: borderGlow 6s ease-in-out infinite; background-size:200% 200%; }
  .register-input input:focus { outline:none; box-shadow: 0 0 0 2px rgba(99,102,241,0.25); }

  .input-float { position:relative; background:white; border:1px solid rgba(203,213,225,0.7); transition: all .3s ease; }
  .input-float:focus-within { border-color: #6366f1; box-shadow: 0 0 0 3px rgba(99,102,241,0.15); }
  .floating-label { position:absolute; left:12px; top:50%; transform: translateY(-50%); color:#94a3b8; font-size:.85rem; pointer-events:none; transition: all .25s ease; background:white; padding:0 4px; }
  .input-float:focus-within .floating-label, .floating-label.has-value { top:-8px; left:10px; font-size:0.7rem; color:#4f46e5; }

  .login-gradient-border { background: linear-gradient(135deg, rgba(79,70,229,0.9), rgba(124,58,237,0.85), rgba(6,182,212,0.8)); padding:2px; border-radius:1rem; animation: loginGradientFlow 6s ease-in-out infinite; background-size:200% 200%; }
  .login-input-glow { background: rgba(255,255,255,0.6); border:1px solid rgba(226,232,240,0.8); transition: all .3s ease; }
  .login-input-glow:focus-within { border-color: rgba(79,70,229,0.8); box-shadow: 0 0 12px rgba(79,70,229,0.4), inset 0 0 6px rgba(124,58,237,0.3); transform: scale(1.01); }
  .login-link { background: linear-gradient(90deg, #4f46e5, #7c3aed, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
}

/* =========================
   Animations (centralized)
   - merged duplicate keyframes
   ========================= */
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
@keyframes slowShift {
  0% { transform: translate3d(0,0,0) rotate(0deg) scale(1); }
  50% { transform: translate3d(6px,-8px,0) rotate(2deg) scale(1.02); }
  100% { transform: translate3d(0,0,0) rotate(0deg) scale(1); }
}
@keyframes blobFloat {
  0% { transform: translate3d(0,0,0) scale(1); }
  30% { transform: translate3d(-16px,-8px,0) scale(1.04); }
  60% { transform: translate3d(12px,10px,0) scale(0.98); }
  100% { transform: translate3d(0,0,0) scale(1); }
}
@keyframes pulseSlow { 0% { transform: scale(1); opacity:1; } 50% { transform: scale(1.2); opacity:0.6; } 100% { transform: scale(1); opacity:1; } }
@keyframes fadeUp { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }
@keyframes fadeInUp { from { opacity:0; transform: translateY(8px); } to { opacity:1; transform: translateY(0); } }
@keyframes floatY { 0% { transform: translateY(0); } 50% { transform: translateY(-6px); } 100% { transform: translateY(0); } }
@keyframes scroll { from { transform: translateX(0); } to { transform: translateX(calc(-1 * var(--marquee-width))); } }
@keyframes borderGlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
@keyframes fadeSlide { 0% { opacity:0; transform: translateY(20px) scale(.98); } 100% { opacity:1; transform: translateY(0) scale(1); } }
@keyframes loginGradientFlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
@keyframes loginGradientShift { 0%,100% { background-position: left center; } 50% { background-position: right center; } }
@keyframes blobMove { 0%,100% { transform: translate(0,0) scale(1); } 50% { transform: translate(10px,-10px) scale(1.05); } }

/* =========================
   Marquee / Logo final tweaks
   ========================= */
.marquee-track { will-change: transform; }

/* Placeholder color consistency */
.login-page ::placeholder { color: #94a3b8; }